var express=require("express"),router=express.Router(),helpers=require("./../lib/helpers");module.exports.getRouter=function(a){var b=a.service;return router.get("/serviceuriAuto",function(a,c){console.log("get serviceuriAuto");var d=b.find({}),e=[];d.each(function(a,b){return a?void helpers.sendErrorResponse(c,a):null===b?void helpers.sendOkResponse(c,e):void e.push(b)})}),router.post("/serviceAuto",function(a,c){console.log("post serviceAuto"),console.log(a.body);var d,e={name:"string",cui:"string",contract:"string",address:"string",email:"string",phone:"string"};return null!==(d=helpers.validateParams(e,a.body))?void helpers.sendErrorResponse(c,d):void b.findOne({name:a.body.name},function(d,e){return d?void helpers.sendErrorResponse(c,d):null!==e?void helpers.sendErrorResponse(c,"Nume service exista"):void b.insertOne(a.body,function(a,b){return a?void helpers.sendErrorResponse(c,a):void helpers.sendOkResponse(c,"Service creat","/service")})})}),router};