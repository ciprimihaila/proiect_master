var express=require("express"),router=express.Router(),helpers=require("./../lib/helpers");module.exports.getRouter=function(a){var b=a.users;return router.post("/editRole",function(a,c){console.log("post editRole"),console.log(a.body);var d,e={username:"string",role:"string"};return null!==(d=helpers.validateParams(e,a.body))?void helpers.sendErrorResponse(c,d):void b.findOne({username:a.body.username},function(d,e){return d?void helpers.sendErrorResponse(c,d):null===e?void helpers.sendErrorResponse(c,"User does not exist"):void b.updateOne({username:a.body.username},{$set:{role:a.body.role}},function(a,b){return a?void helpers.sendErrorResponse(c,a):void helpers.sendOkResponse(c,"User role changed")})})}),router};